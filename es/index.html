<section id="demo">
  <h2 class="section-title">Demostraci칩n de Panel Interactivo</h2>
  <p class="section-subtitle">Genere informes de inteligencia en tiempo real con an치lisis de IA enfocados en mercados latinoamericanos</p>
  
  <div class="demo-container">
    <div class="demo-controls">
      <div class="control-group">
        <label for="client-select-es">Seleccionar Tipo de Cliente</label>
        <select id="client-select-es">
          <option value="research">Instituto de Investigaci칩n - Tendencias Pol칤ticas (Colombia)</option>
          <option value="government">Agencia Gubernamental - Evaluaci칩n de Seguridad (M칠xico)</option>
          <option value="corporate">Estrategia Corporativa - Entrada al Mercado (Brasil)</option>
        </select>
      </div>
      <button id="generate-btn-es" class="cta-button">Generar Informe</button>
    </div>

    <div class="process-status">
      <div class="status-step" id="step-1-es">
        <div class="status-icon">游닗</div>
        <div class="status-text">Escaneando Noticias Locales</div>
      </div>
      <div class="status-step" id="step-2-es">
        <div class="status-icon">游댌</div>
        <div class="status-text">Detectando Se침ales</div>
      </div>
      <div class="status-step" id="step-3-es">
        <div class="status-icon">游뱄</div>
        <div class="status-text">An치lisis de IA</div>
      </div>
      <div class="status-step" id="step-4-es">
        <div class="status-icon">游늵</div>
        <div class="status-text">Generaci칩n de Informe</div>
      </div>
    </div>

    <div class="demo-output" id="output-es">
      <div class="loading" id="loading-es">
        <div class="loader"></div>
        <p>Generando informe de inteligencia...</p>
      </div>
      <div id="report-content-es" style="display: none;">
        <!-- El contenido del informe se insertar치 aqu칤 -->
      </div>
    </div>
  </div>
</section>

<script>
// C칩digo completamente aislado usando IIFE para evitar conflictos de variables
(function() {
// Datos de informes espec칤ficos para la versi칩n espa침ola
const reportsES = {
  research: {
    title: "An치lisis de Tendencias Pol칤ticas - Colombia",
    riskLevel: "medium",
    reportStyle: "academic",
    signals: [
      {
        type: "Tendencia de Pol칤tica",
        date: "칔ltimos 3 Meses",
        content: "El an치lisis sistem치tico de fuentes de noticias regionales indica un aumento del 42% en las discusiones sobre pol칤tica de descentralizaci칩n en los departamentos del sur de Colombia. Los t칠rminos clave con frecuencia creciente incluyen 'autonom칤a regional' y 'autogobierno local'.",
        source: "6 Fuentes de Noticias Regionales, 124 Art칤culos",
        leadTime: "12-18 meses antes de implementaci칩n de pol칤ticas"
      },
      {
        type: "Discurso P칰blico Emergente",
        date: "칔ltimas 6 Semanas",
        content: "El procesamiento de lenguaje natural del contenido de redes sociales muestra un aumento del 67% en la discusi칩n a nivel comunitario sobre reforma electoral, particularmente enfocada en mecanismos de democracia directa. Esto se correlaciona con la disminuci칩n de la confianza en las instituciones pol칤ticas tradicionales (r=0.73).",
        source: "An치lisis de Redes Sociales, 3 Publicaciones Universitarias",
        leadTime: "8-10 meses antes de adopci칩n generalizada"
      },
      {
        type: "Reconocimiento de Patrones Hist칩ricos",
        date: "An치lisis de 5 A침os",
        content: "Nuestro algoritmo de reconocimiento de patrones ha identificado similitudes ling칲칤sticas significativas entre el discurso actual y la ret칩rica previa al acuerdo de paz de 2016. Las declaraciones p칰blicas actuales de pol칤ticos regionales muestran una coincidencia ling칲칤stica del 78% con el posicionamiento previo al acuerdo.",
        source: "Archivo Hist칩rico de Medios, Revistas Acad칠micas",
        leadTime: "6-9 meses antes de realineamiento pol칤tico"
      }
    ]
  },
  government: {
    title: "Evaluaci칩n de Seguridad - Regi칩n Fronteriza de M칠xico",
    riskLevel: "high",
    reportStyle: "security",
    signals: [
      {
        type: "ALERTA CR칈TICA",
        date: "Hace 48 Horas",
        content: "Patrones de comunicaci칩n inusuales detectados entre grupos previamente no afiliados en la regi칩n de Sonora. El volumen de comunicaci칩n aument칩 un 315% con enfoque geogr치fico espec칤fico en corredores de tr치nsito. Patr칩n consistente con planificaci칩n preoperativa.",
        source: "RESTRINGIDO - M칰ltiples Fuentes",
        leadTime: "72-96 horas antes de actividad potencial"
      },
      {
        type: "MOVIMIENTO DETECTADO",
        date: "Hace 5 D칤as",
        content: "Patrones an칩malos de movimiento de veh칤culos identificados en corredor estrat칠gico. El an치lisis de marca de tiempo muestra movimientos coordinados a las 20:00-23:00 hora local. El movimiento coincide con patrones hist칩ricos antes de incidentes significativos en 2023.",
        source: "Redes de Reportes Locales, An치lisis de Patrones",
        leadTime: "10-14 d칤as antes de escalamiento"
      },
      {
        type: "SE칌AL ECON칍MICA",
        date: "2 Semanas de Monitoreo",
        content: "La actividad de cambio de divisas en 4 puntos de monitoreo muestra un aumento del 87% en tipos espec칤ficos de transacciones asociadas con movimiento transfronterizo. Los indicadores econ칩micos sugieren preparaci칩n para interrupci칩n de la cadena de suministro regional.",
        source: "An치lisis Financiero, Comparaci칩n Hist칩rica",
        leadTime: "3-4 semanas antes de posible interrupci칩n"
      }
    ]
  },
  corporate: {
    title: "Estrategia de Entrada al Mercado - Sector Minorista de Brasil",
    riskLevel: "low",
    reportStyle: "business",
    signals: [
      {
        type: "An치lisis Regulatorio",
        date: "Este Trimestre",
        content: "Nuestra IA detect칩 una reducci칩n del 23% en la carga de cumplimiento regulatorio para minoristas extranjeros en 3 mercados metropolitanos clave. Las reformas a nivel municipal han agilizado los procesos de permisos con tiempos de aprobaci칩n promedio disminuyendo de 267 a 142 d칤as.",
        source: "Publicaciones Comerciales Locales, Presentaciones Regulatorias",
        leadTime: "Ventana de tiempo clave: Pr칩ximos 6-9 meses"
      },
      {
        type: "Sentimiento del Consumidor",
        date: "Monitoreo Continuo",
        content: "El an치lisis de sentimiento muestra un aumento del 34% en menciones positivas de marcas minoristas internacionales, con 칠nfasis particular en variedad de productos y transparencia de precios. El an치lisis de tendencias en redes sociales indica una creciente preferencia del consumidor por experiencias minoristas omnicanal.",
        source: "Encuestas a Consumidores, An치lisis de Redes Sociales",
        leadTime: "Pico de receptividad del mercado: Q1-Q2 2025"
      },
      {
        type: "Inteligencia de Cadena de Suministro",
        date: "칔ltimos 60 D칤as",
        content: "El an치lisis de la red log칤stica indica mejoras significativas en la infraestructura de entrega de 칰ltima milla en el estado de S칚o Paulo. Los nuevos centros de distribuci칩n regional han reducido los tiempos de entrega promedio en un 41%, mientras que los costos de transporte han disminuido un 17% desde 2022.",
        source: "Informes de la Industria, Datos de Transporte",
        leadTime: "Ventana de ventaja competitiva de 12 meses"
      }
    ]
  }
};

// Funci칩n para mostrar el informe en espa침ol
function showReportES(clientType) {
  const loading = document.getElementById('loading-es');
  const reportContent = document.getElementById('report-content-es');
  const generateBtn = document.getElementById('generate-btn-es');
  const report = reportsES[clientType];
  
  // Generar HTML del informe basado en el estilo del tipo de cliente
  let reportHTML = '';
  
  // Diferentes estilos de encabezado basados en el tipo de informe
  if (report.reportStyle === 'academic') {
    reportHTML = `
      <div class="output-header" style="border-bottom: 2px solid var(--accent);">
        <div class="output-title" style="font-family: 'Times New Roman', serif; font-size: 1.6rem;">${report.title}</div>
        <div class="output-meta">
          <div class="report-type" style="background: rgba(8, 145, 178, 0.1); color: var(--accent);">An치lisis Acad칠mico</div>
          <div class="risk-level risk-${report.riskLevel}">Evaluaci칩n de Riesgo: ${report.riskLevel === 'high' ? 'ALTO' : report.riskLevel === 'medium' ? 'MEDIO' : 'BAJO'}</div>
        </div>
      </div>
      <div class="report-summary" style="font-style: italic; border-left-color: var(--accent);">
        <div class="summary-title" style="color: var(--accent);">Resumen de Investigaci칩n</div>
        <div class="summary-content">Este an치lisis presenta observaciones emp칤ricas de tendencias pol칤ticas emergentes en Colombia basadas en recopilaci칩n de datos de m칰ltiples fuentes y procesamiento de lenguaje natural en medios regionales.</div>
      </div>
    `;
  } else if (report.reportStyle === 'security') {
    reportHTML = `
      <div class="output-header" style="border-bottom: 2px solid var(--danger); background: rgba(239, 68, 68, 0.05); padding: 1rem;">
        <div class="output-title" style="font-family: 'Courier New', monospace; font-size: 1.5rem; text-transform: uppercase;">${report.title}</div>
        <div class="output-meta">
          <div class="report-type" style="background: rgba(239, 68, 68, 0.1); color: var(--danger);">INFORME DE SEGURIDAD</div>
          <div class="risk-level risk-${report.riskLevel}" style="font-weight: 700;">NIVEL DE AMENAZA: ${report.riskLevel === 'high' ? 'ALTO' : report.riskLevel === 'medium' ? 'MEDIO' : 'BAJO'}</div>
        </div>
      </div>
      <div class="report-summary" style="background: rgba(239, 68, 68, 0.05); border-left-color: var(--danger);">
        <div class="summary-title" style="color: var(--danger);">VISI칍N GENERAL DE LA SITUACI칍N</div>
        <div class="summary-content">M칰ltiples indicadores de alta confianza sugieren preocupaciones de seguridad elevadas en la regi칩n monitoreada. Se recomienda revisi칩n inmediata de medidas de contingencia.</div>
      </div>
    `;
  } else if (report.reportStyle === 'business') {
    reportHTML = `
      <div class="output-header" style="border-bottom: 2px solid var(--success);">
        <div class="output-title" style="font-family: 'Arial', sans-serif; font-size: 1.5rem;">${report.title}</div>
        <div class="output-meta">
          <div class="report-type" style="background: rgba(16, 185, 129, 0.1); color: var(--success);">Inteligencia de Mercado</div>
          <div class="risk-level risk-${report.riskLevel}">Oportunidad: ALTA | Riesgo: ${report.riskLevel === 'high' ? 'ALTO' : report.riskLevel === 'medium' ? 'MEDIO' : 'BAJO'}</div>
        </div>
      </div>
      <div class="report-summary" style="border-left-color: var(--success); background: rgba(16, 185, 129, 0.05);">
        <div class="summary-title" style="color: var(--success);">Resumen Ejecutivo</div>
        <div class="summary-content">Las condiciones del mercado indican una ventana favorable de entrada para operaciones minoristas en Brasil, con mejora en las condiciones regulatorias y sentimiento positivo del consumidor hacia marcas internacionales.</div>
      </div>
    `;
  }
  
  // Agregar elementos de se침al con variaciones de estilo seg칰n el tipo de informe
  report.signals.forEach(signal => {
    if (report.reportStyle === 'academic') {
      reportHTML += `
        <div class="signal-item" style="border-radius: 0; border-left: 4px solid var(--accent);">
          <div class="signal-header" style="background: rgba(8, 145, 178, 0.1);">
            <div class="signal-type" style="color: var(--accent); font-weight: 600;">${signal.type}</div>
            <div class="signal-date" style="font-style: italic;">${signal.date}</div>
          </div>
          <div class="signal-content" style="font-size: 0.95rem; line-height: 1.7;">
            <p>${signal.content}</p>
          </div>
          <div class="signal-metadata" style="font-size: 0.85rem; color: var(--text-secondary);">
            <div class="signal-source"><strong>Fuentes:</strong> ${signal.source}</div>
            <div class="signal-leadtime" style="color: var(--accent);">${signal.leadTime}</div>
          </div>
        </div>
      `;
    } else if (report.reportStyle === 'security') {
      reportHTML += `
        <div class="signal-item" style="border: 1px solid var(--danger); margin-bottom: 1.5rem;">
          <div class="signal-header" style="background: rgba(239, 68, 68, 0.1); border-bottom: 1px solid var(--danger);">
            <div class="signal-type" style="color: var(--danger); font-weight: 700; letter-spacing: 0.5px;">${signal.type}</div>
            <div class="signal-date" style="font-weight: bold;">${signal.date}</div>
          </div>
          <div class="signal-content" style="font-family: 'Courier New', monospace; padding: 1rem; line-height: 1.5;">
            <p>${signal.content}</p>
          </div>
          <div class="signal-metadata" style="background: rgba(15, 23, 42, 0.95); padding: 0.75rem 1.5rem;">
            <div class="signal-source" style="font-size: 0.8rem; opacity: 0.8;">${signal.source}</div>
            <div class="signal-leadtime" style="color: var(--danger); font-weight: 600; letter-spacing: 0.5px;">${signal.leadTime}</div>
          </div>
        </div>
      `;
    } else if (report.reportStyle === 'business') {
      reportHTML += `
        <div class="signal-item" style="border-radius: 0.5rem; box-shadow: 0 2px 10px rgba(0,0,0,0.05); border: 1px solid rgba(16, 185, 129, 0.2);">
          <div class="signal-header" style="background: white; border-bottom: 2px solid rgba(16, 185, 129, 0.2); padding: 1.25rem 1.5rem;">
            <div class="signal-type" style="color: var(--success); font-weight: 600;">${signal.type}</div>
            <div class="signal-date" style="color: var(--secondary);">${signal.date}</div>
          </div>
          <div class="signal-content" style="padding: 1.5rem; background: rgba(16, 185, 129, 0.03);">
            <p>${signal.content}</p>
          </div>
          <div class="signal-metadata" style="display: flex; justify-content: space-between; padding: 1rem 1.5rem; background: white; border-top: 1px solid rgba(16, 185, 129, 0.1);">
            <div class="signal-source" style="font-size: 0.875rem; color: var(--secondary);">${signal.source}</div>
            <div class="signal-leadtime" style="color: var(--success); font-weight: 600;">${signal.leadTime}</div>
          </div>
        </div>
      `;
    }
  });
  
  // Mostrar informe
  setTimeout(() => {
    loading.classList.remove('active');
    reportContent.innerHTML = reportHTML;
    reportContent.style.display = 'block';
    generateBtn.disabled = false;
  }, 500);
}

// Funci칩n para generar informes en espa침ol
function generateReportES() {
  const clientSelect = document.getElementById('client-select-es');
  const selectedClient = clientSelect.value;
  const generateBtn = document.getElementById('generate-btn-es');
  const loading = document.getElementById('loading-es');
  const reportContent = document.getElementById('report-content-es');
  
  // Deshabilitar bot칩n y mostrar carga
  generateBtn.disabled = true;
  loading.classList.add('active');
  reportContent.style.display = 'none';
  
  // Reiniciar todos los pasos
  for (let i = 1; i <= 4; i++) {
    const step = document.getElementById(`step-${i}-es`);
    step.classList.remove('active', 'complete');
  }
  
  // Simular pasos del proceso
  let currentStep = 1;
  const stepInterval = setInterval(() => {
    if (currentStep <= 4) {
      const step = document.getElementById(`step-${currentStep}-es`);
      step.classList.add('active');
      
      // Marcar como completo despu칠s de retraso
      setTimeout(() => {
        step.classList.remove('active');
        step.classList.add('complete');
        currentStep++;
        
        if (currentStep > 4) {
          clearInterval(stepInterval);
          showReportES(selectedClient);
        }
      }, 1000);
    }
  }, 1200);
}

// Configurar event listener una vez que el DOM est칠 cargado
document.addEventListener('DOMContentLoaded', function() {
  const generateBtn = document.getElementById('generate-btn-es');
  if (generateBtn) {
    generateBtn.addEventListener('click', generateReportES);
  }
});

// Tambi칠n agregarlo inmediatamente para casos donde el DOM ya est치 cargado
const generateBtn = document.getElementById('generate-btn-es');
if (generateBtn) {
  generateBtn.addEventListener('click', generateReportES);
}
})();
</script>